language: node_js
addons:
  apt:
    packages:
    - sshpass
node_js:
  - 8
branchs:
  only:
  - master  #指定只有检测到master分支有变动时才执行任务
script:
  - export SSHPASS=$DEPLOY_PASS
  - npm install cnpm --registry=https://registry.npm.taobao.org
  - cnpm install
  - npm run build
  - sshpass -e scp  -o stricthostkeychecking=no -r dist root@47.98.240.154:/var/www/html/fancy
env:
  global:
  - secure: mh3D2qO3M5zwDc5S+NcgrEb3KvKvDYHJDEQw34Aw7bhMXHfGLjHl6gS6Ar4wlvh2Db9stG8EUq7dSnff/7nK+J6qJ+mPAiBb8kkdBwA+m4UL7cPru+6GUjReZVIwKG8YexWA2Ui7du9meByzmrXuc3e4QQNt91Aik1cYzIDJ7kZ/TzytEkDz0v/OuRTbRr7MNyGWLPDG2hNBV5TIigUU72VP7rh3gaiXFoYFKnsvaHTAozYQmyzrQaMX9vgFoOsM8q8Hql6B2M+GviVP3uY8RTWL9PuDZvn3bWJkwCeDzpAA/Mszolmf3ZPHisj1qXi5hJcIvvvXENBTT4feCN2b3Hcb5HqB7zw64Rjie5P2oiFPsRxp+lf8ISx/Njdrx39OJL2j1BhXw2IjIyHU3XzlmqFl7mS9d1DdISsvylBDaGgtOkdFDCmsirj/ruJvbMqJEfnrBtx0qwBivjGCX8KXgyP6I7fZb/3+mnMGEUMAnL8g0l793mjaSJrXXDAYrBRx1F8ae6avojkPdqse7/zJW8FTiNkhk2j1+PI4f4GuRO0XaqdlCdJ2rB9tI9PzlBaglZFH5Iv33+aJfjchGdfn8EWa/DhetKLreueK+mkMW6dHVSAarm3PXIDADU5mMpi0pif7Pejh0aY4UrnkWOYxbqxiAMod8DpulNwxqmpHcc0=
  - secure: JANmMgaNar0G+srtafCUUteDyjwcwLGb+jYrLIZBiiPsycATLPPk8WfUllWrgePS2hLzjn1Ugm9GtCYaUfo0VbGQr8/CTv2bdZ2U64D5vtcktgj3phO0NnK3E8ZW6W6EL2DgcUUCrtjVU7SMJF9GvIn5KKrVFQN0GJesmz1qKjMR7B4z/NrLTKLUSxOMCjgMYuUQ2aWhRB2ZHt6O9rKs3YwNhUup3n/w6iB5XWEbGbgpXVJki4+AJSmF2R61a/DraLQnUNC+rVmh5nqLuTKhFqLJhMKNjB5SmxDnEyuWBhWZBg0CxB8yHpS/Z/Yw2g8J5AiBxvxSfO1AJjBhQdlRuF958EEjOr7mKe7ovN+LF1M4/fpyinYxokSIeYNsTT6Z/3NHGwRLG1kdFF5nCts8Xnd+ilWcZUVeEMZzep+yhS322L5MovbsODAAdfiRuZm3smmofY+sGjUzBlmmPpZNsAeKVBnpV5q9tiJbs16Gp874F3k/u8joNBL1CN0/fAAW8LdwgMEyR5IF0BSSdmEXVglcrj4I6zqDMzqoWqNqJzXZCAxtb/O2An+DWiFcnDwsF7CVUOEnKp8G7Ir0Pf7hx0bJFZlZAls88v92Zwhn6nm+UJXxzgpzzJMUoGV93mNOfiGPV6+JokFgU+k6KXfjSuDfJSZPn4QlOFVRSlShFzw=